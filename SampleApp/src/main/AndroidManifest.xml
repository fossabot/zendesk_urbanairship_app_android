<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          xmlns:tools="http://schemas.android.com/tools"
          package="com.zendesk.example.ua" >

    <!--Enable the following permission if you wish to have auto complete of email address in Contact UI-->
    <!--<uses-permission android:name="android.permission.GET_ACCOUNTS" />-->

    <!--
        Enable the following permission if you wish to allow the SDK to determine whether global sync
        is enabled or not to be kinder to the battery
    -->
    <!--<uses-permission android:name="android.permission.READ_SYNC_SETTINGS" />-->

    <!-- Enable the following permissions if you wish to have the option to show attachment images in fullscreen -->
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />


    <!--
    ===========================
    Urban Airship - Permissions
    ===========================
    -->

    <!-- Keeps the processor from sleeping when a message is received. -->
    <uses-permission android:name="android.permission.WAKE_LOCK" />

    <!-- Vibrate if push notification -->
    <uses-permission android:name="android.permission.VIBRATE" />

    <!-- REQUIRED PERMISSIONS for GCM -->
    <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />

    <!-- The two elements below ensure that only this application can receive the messages and registration result -->
    <permission android:name="${applicationId}.permission.C2D_MESSAGE" android:protectionLevel="signature" />
    <uses-permission android:name="${applicationId}.permission.C2D_MESSAGE" />

    <!-- The two elements below ensure that only this application has access to the Urban Airship provider -->
    <permission android:name="${applicationId}.permission.UA_DATA" android:protectionLevel="signature" />
    <uses-permission android:name="${applicationId}.permission.UA_DATA" />

    <!--
    ===================
    End - Urban Airship
    ===================
    -->

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme"
        tools:replace="android:theme"
        android:name=".Global">

        <activity   
            android:name=".MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <activity
            android:name=".RateMyAppDialogTest"
            android:configChanges="orientation|keyboardHidden|screenSize"
            android:label="@string/title_activity_rate_my_app_dialogue_test" />

        <!--
        ==========================
        Urban Airship - Activities
        ==========================
        -->

        <!-- REQUIRED for PlayServiceUtils.handleAnyPlayServicesError to handle Google Play Services recoverable errors. -->
        <activity
            android:name="com.urbanairship.google.PlayServicesErrorActivity"
            android:theme="@android:style/Theme.Translucent.NoTitleBar" />

        <!--
        ========================
        Urban Airship - Services
        ========================
        -->

        <!-- REQUIRED for Urban Airship -->
        <service android:name="com.urbanairship.push.PushService"
                 android:label="Push Notification Service" />

        <!--
        =========================
        Urban Airship - Providers
        =========================
        -->

        <!-- This is required for persisting preferences related to push and location -->
        <provider
            android:name="com.urbanairship.UrbanAirshipProvider"
            android:authorities="${applicationId}.urbanairship.provider"
            android:permission="${applicationId}.permission.UA_DATA"
            android:exported="true"
            android:multiprocess="true" />


        <!--
        ========================
        Urban Airship - Receiver
        ========================
        -->

        <!-- REQUIRED for Urban Airship Push. The priority is important to be set lower than the
                    application's push intent receiver in order for the push intent receiver to handle push intents
                    before the core receiver. This allows the application to launch any activities before Urban
                    Airship performs any actions or falls back to launching the application launch intent. -->
        <receiver android:name="com.urbanairship.CoreReceiver"
                  android:exported="false">

            <intent-filter android:priority="-999">
                <action android:name="com.urbanairship.push.OPENED" />
                <category android:name="${applicationId}" />
            </intent-filter>
        </receiver>

        <!-- REQUIRED for GCM -->
        <receiver
            android:permission="com.google.android.c2dm.permission.SEND"
            android:name="com.urbanairship.push.GCMPushReceiver">

            <intent-filter>
                <action android:name="com.google.android.c2dm.intent.RECEIVE" />
                <action android:name="com.google.android.c2dm.intent.REGISTRATION" />
                <category android:name="${applicationId}" />
            </intent-filter>
        </receiver>

        <!-- OPTIONAL, if you want to receive push, push opened and registration completed intents -->
        <receiver
            android:name="com.zendesk.example.ua.IntentReceiver"
            android:exported="false">

            <intent-filter>
                <action android:name="com.urbanairship.push.CHANNEL_UPDATED" />
                <action android:name="com.urbanairship.push.OPENED" />
                <action android:name="com.urbanairship.push.RECEIVED" />
                <action android:name="com.urbanairship.push.DISMISSED" />

                <category android:name="${applicationId}" />
            </intent-filter>
        </receiver>


        <!--
        =========================
        Urban Airship - Meta-data
        =========================
        -->

        <!-- REQUIRED for Google Play Services (GCM)-->
        <meta-data
            android:name="com.google.android.gms.version"
            android:value="@integer/google_play_services_version" />

        <!--
        ===================
        End - Urban Airship
        ===================
        -->

    </application>
</manifest>
